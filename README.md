# MANDARIN_APP
Цель проекта - создать ML-модель с открытым API, которая будет предсказывать вероятность одобрения кредита клиенту в конкретных банках на основании параметров клиента, переданных в API, для повышения конверсии бизнеса.  
Разработанная в рамках проекта ML-модель предоставляет заказчику информацию о вероятности одобрения конкретной заявки в каждой из кредитных организаций-партнеров и открывает перед заказчиком следующие возможности:  
1. Блокирование отправки потенциально отказных заявок на рассмотрение в банки  
2. Отправка заявок только в те кредитные организации, которые с необходимой долей вероятности ее одобрят

Модель позволит:   
1. Повысить конверсию заявок в фактические сделки, вероятность одобрения для клиента
2. Сэкономить инфраструктурные ресурсы и оптимизировать трафик заявок на стороне Заказчика
3. Снизить TTN - отказы по заявкам можно будет отдавать сразу на платформе, без обращения в кредитные организации

## Начало работы
Для запуска приложения локально на основе предоставленных данных, необходимо выполнить следующие шаги:
1. Скачать проект на локальную машину
2. Убедиться, что в локальном окружении установлены все необходимые зависимости (файл "requirements.txt")
3. Запустить приложение локально, выполнив файл "app.py". После этого API будет доступно по указанному адресу.
4. Для корректной работы API необходимы вспомогательные файлы "dictionaries.py" и "functions.py", которые содержат необходимые справочники и функции.


### Справка по файлам репозитория:
* Исходные данные содержатся в файле ["SF_Mandarin_dataset_ver3_csv.csv"](https://github.com/smirnovanton90/MANDARIN_APP/blob/master/SF_Mandarin_dataset_ver3_csv.csv)
* Описание процесса создания моделей содержится в файле ["Хакатон_Mandarin2023_EDA_Зеленая_банда.ipynb"](https://github.com/smirnovanton90/MANDARIN_APP/blob/master/Хакатон_Mandarin2023_EDA_Зеленая_банда.ipynb)
* Сами сформированные модели в файлах "model_A.pkl", "model_A.pkl" и т.д. - для каждого из банков была сформирована
отдельная модель.
* Код приложения на Flask, в котором создано API, находится в файле ["app.py"](https://github.com/smirnovanton90/MANDARIN_APP/blob/master/app.py)
* Файлы ["dictionaries.py"](https://github.com/smirnovanton90/MANDARIN_APP/blob/master/dictionaries.py) и ["functions.py"](https://github.com/smirnovanton90/MANDARIN_APP/blob/master/functions.py) - вспомогательные файлы с необходимым справочниками и функциями для
корректной работы API

## Использование
Для использования реализованного приложения необходимо
1. Запустить приложение (файл "app.py")
2. Отправить на необходимый эндпоинт (см. описание эндпоинтов ниже) http-запрос с JSON в body с исходными данными (пример JSON в файле "test.json")
3. В ответ придет JSON с результатами отработки модели / моделей в зависимости от использованного эндпоинта (см. описание эндпоинтов ниже)

### Описание эндпоинтов
* ***/predictAll*** - получить предсказание вероятности одобрения кредита клиенту в каждом из пяти банков
* ***/predictA*** - получить предсказание вероятности одобрения кредита клиенту в банке A
* ***/predictB*** - получить предсказание вероятности одобрения кредита клиенту в банке B
* ***/predictC*** - получить предсказание вероятности одобрения кредита клиенту в банке C
* ***/predictD*** - получить предсказание вероятности одобрения кредита клиенту в банке D
* ***/predictE*** - получить предсказание вероятности одобрения кредита клиенту в банке E

## Команда
* ***Смирнов Антон Викторович*** - ML-engineer - предварительная обработка данных, Feature engineering, Обучение моделей
* ***Петраков Виталий Витальевич*** - ML-engineer - Определение метрики для оценки итогового результата
* ***Зайцев Александр Васильевич*** - Python developer - разработка API
* ***Иванов Иван Александрович*** - QA-engineer - тестирование решения
* ***Смирнова Анастасия Валерьевна*** - Project manager - разработка документации, оформление решения
* ***Кожедуб Надежда Сергеевна*** - MLOps-engineer - вопросы инфраструктуры и развертывания

